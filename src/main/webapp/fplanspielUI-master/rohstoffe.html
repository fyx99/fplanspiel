<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Rohstoffe</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/custom.css" rel="stylesheet">
    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
 </head>
 
 <body>
    <!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="index.html">Unternehmensplanspiel</a>
			</div>
			<div class="navbar-collapse collapse">
		
				<ul class="nav navbar-nav navbar-default">

					<!-- Einkauf -->					
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">Einkauf <b class="caret"></b></a>
						<ul class="dropdown-menu">
							<li><a href="einkauf.html">Einkauf</a></li>         
						</ul>
					</li>

					<!-- Verarbeitung -->
					<li class="dropdown">
						<a href="verarbeitung.html" class="dropdown-toggle" data-toggle="dropdown">Verarbeitung <b class="caret"></b></a>
						<ul class="dropdown-menu">
						
							<li><a href="verarbeitung.html">Verarbeitung</a></li>
							<li class="divider"></li>
							<li class="dropdown-header">Produkte</li>
							<li><a href="#">Stühle</a></li>
							<li><a href="#">Tische</a></li>
							<li><a href="#">Schränke</a></li>
						</ul>
					</li>      

					<!-- Verkauf -->
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">Verkauf <b class="caret"></b></a>
						<ul class="dropdown-menu">
						
							<li><a href="verkauf.html">Verkauf</a></li>
							<li class="divider"></li>
							<li class="dropdown-header">Angebote</li>
							<li><a href="#">Neues Angebot</a></li>
							<li><a href="#">Bestehende Angebote</a></li>
						</ul>
					</li>

					<!--Inventar-->
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">Inventar <b class="caret"></b></a>
						<ul class="dropdown-menu">
						
							<li><a href="rohstoffe.html">Rohstoffe</a></li>
							<li><a href="fertigeerzeugnisse.html">Fertige Erzeugnisse</a></li>
							<li><a href="maschinen.html">Maschinen</a></li>
              <li class="divider"></li>   
              <li><a href="ergebnis_runde.html">Ergebnis der letzten Runde</a></li>  
						</ul>
					</li>    
				</ul>

				<ul class="nav navbar-nav navbar-right">
                    <li><a href="#about">Zeit: 00:00</a></li>                   
                    <!--  <li><img src="img/account.svg"></img></li>-->
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Spieler 1 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li><a href="#about">Runde 1</a></li>
                            <li><a href="#budget" id="exampleContent">Budget: 000000 €</a></li>

                            <li class="divider"></li>       
                            <li><a class="btn float-right" onclick="#'">Runde beenden</a> </li>
                        </ul>
                    </li>        
            	</ul>
			</div><!--/.nav-collapse -->
		</div>
    </div>
    
	<!-- Page Header -->
	<div class="container">	
        <div class="page-header">
            <h1>Rohstoffe</h1>
        </div>
        <!--ROHSTOFFE ÜBERSICHT-->
        	<div class="well">
        		<div class="row">
  					<div class="col-sm-6 col-md-4">
    					<div class="thumbnail">
      						<img src="img/holz.jpg" alt="Holz">
     						<div class="caption">
       							<h3>Holz</h3>
        						<p>Verfügbare Menge:</p>
        						<div class="progress">
  									<div class="progress-bar" id="progressbarHolz" role="progressbar" data-toggle="tooltip" title="100/100" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;">
   									100%
  									</div>
								</div>
        						<p><a data-toggle="modal" data-target="#verkaufen" class="btn btn-danger" role="button">Verkaufen</a> <a data-toggle="modal" data-target="#details" class="btn btn-primary" role="button">Details</a></p>
      						</div>
    					</div>
  					</div>

  					<div class="col-sm-6 col-md-4">
    					<div class="thumbnail">
      						<img src="img/stoff.jpg" alt="Stoff">
     						<div class="caption">
       							<h3>Stoff</h3>
        						<p>Verfügbare Menge:</p>
        						<div class="progress">
  									<div class="progress-bar" role="progressbar" data-toggle="tooltip" title="95/100" aria-valuenow="95" aria-valuemin="0" aria-valuemax="100" style="width: 95%;">
   									95%
  									</div>
								</div>
        						<p><a data-toggle="modal" data-target="#verkaufen" class="btn btn-danger" role="button">Verkaufen</a> <a data-toggle="modal" data-target="#details" class="btn btn-primary" role="button">Details</a></p>
      						</div>
    					</div>
  					</div>

  					<div class="col-sm-6 col-md-4">
    					<div class="thumbnail">
      						<img src="img/leder.jpg" alt="Leder">
     						<div class="caption">
       							<h3>Leder</h3>
        						<p>Verfügbare Menge:</p>
        						<div class="progress">
  									<div class="progress-bar" role="progressbar" data-toggle="tooltip" title="25/100" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" style="width: 25%;">
   									25%
  									</div>
								</div>
        						<p><a data-toggle="modal" data-target="#verkaufen" class="btn btn-danger" role="button">Verkaufen</a> <a data-toggle="modal" data-target="#details" class="btn btn-primary" role="button">Details</a></p>
      						</div>
    					</div>
  					</div>

  					<div class="col-sm-6 col-md-4">
    					<div class="thumbnail">
      						<img src="img/plastik.jpg" alt="Kunststoff">
     						<div class="caption">
       							<h3>Kunststoff</h3>
        						<p>Verfügbare Menge:</p>
        						<div class="progress">
  									<div class="progress-bar" role="progressbar" data-toggle="tooltip" title="10/100" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100" style="width: 10%;">
   									10%
  									</div>
								</div>
        						<p><a data-toggle="modal" data-target="#verkaufen" class="btn btn-danger" role="button">Verkaufen</a> <a data-toggle="modal" data-target="#details" class="btn btn-primary" role="button">Details</a></p>
      						</div>
    					</div>
  					</div>

  					<div class="col-sm-6 col-md-4">
    					<div class="thumbnail">
      						<img src="img/edelstahl.jpg" alt="Edelstahl">
     						<div class="caption">
       							<h3>Edelstahl</h3>
        						<p>Verfügbare Menge:</p>
        						<div class="progress">
  									<div class="progress-bar" role="progressbar" data-toggle="tooltip" title="80/100" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 80%;">
   									80%
  									</div>
								</div>
        						<p><a data-toggle="modal" data-target="#verkaufen" class="btn btn-danger" role="button">Verkaufen</a> <a data-toggle="modal" data-target="#details" class="btn btn-primary" role="button">Details</a></p>
      						</div>
    					</div>
  					</div>

  					<div class="col-sm-6 col-md-4">
    					<div class="thumbnail">
      						<img src="img/glas.jpg" alt="Glas">
     						<div class="caption">
       							<h3>Glas</h3>
        						<p>Verfügbare Menge:</p>
        						<div class="progress">
  									<div class="progress-bar" role="progressbar" data-toggle="tooltip" title="50/100" aria-valuenow="75" aria-valuemin="0" aria-valuemax="10" style="width: 50%;">
   									50%
  									</div>
								</div>
        						<p><a data-toggle="modal" data-target="#verkaufen" class="btn btn-danger" role="button">Verkaufen</a> <a data-toggle="modal" data-target="#details" class="btn btn-primary" role="button">Details</a></p>
      						</div>
    					</div>
  					</div>
  				</div>
  			</div>
        </div>
    </div>
	
   
 <!-- Fixed footer -->
    <div class="navbar navbar-inverse navbar-fixed-bottom" role="navigation">
        <div class="container">
            <div class="navbar-text pull-left">
                <p>© 2018 </p>
            </div>
            <div class="navbar-text pull-right">
                <a href="#help">Hilfe</a> 
            </div>
        </div>
    </div>
    
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

<!--Modal-Details-->
  <div class="modal fade" id="details" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
     <div class="modal-dialog modal-dialog-centered" role="document">
       <div class="modal-content">
         <div class="modal-header">
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
             <span aria-hidden="true">&times;</span>
           </button>
           <h2 class="modal-title" id="verkaufenDialogTitel">Details</h2>
         </div>
         <div class="modal-body">

            <h4>Holz wird zur Produktion folgender Möbelstücke benötigt:</h4>
            	<li>Holzstuhl</li>
            	<li>Stoffstuhl</li>
            	<li>Lederstuhl</li>
            	<li>Holztisch</li>
            	<li>Holzschrank</li>
            	<li>Edelstahlschrank</li>
            	<li>Glasschrank</li>
            <hr>
            <h4>Verfügbare Menge an Holz:</h4>
            <p>Im Lager: 40 ME</p>
            <p>Größe des Lagers: 100 ME</p>

            <div class="progress">
              <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"  style="width: 40%">40%
                <span class="sr-only">40% abgeschlossen (Erfolg)</span>
              </div>
            </div>

         </div>
         <div class="modal-footer">
            <p>
              <button class="btn btn-primary" data-dismiss="modal" role="button">Schließen</button>
            </p>  
         </div>
       </div>
    </div>
  </div>

 <!--Modal-Verkaufen-->
  <div class="modal fade" id="verkaufen" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
     <div class="modal-dialog modal-dialog-centered" role="document">
       <div class="modal-content">
         <div class="modal-header">
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
             <span aria-hidden="true">&times;</span>
           </button>
           <h2 class="modal-title" id="verkaufenDialogTitel">Rohstoffe verkaufen</h2>
         </div>
         <div class="modal-body">

            <h4>Bitte wählen Sie die zu verkaufende Menge des Rohstoffs: </h4>
            
            <style>
				.erlös {
				color: green;
				}
            </style>
            <div>         
  				<table class="table">
    				<tbody>
      					<tr>
        					<td>Menge im Lager:</td>
        					<td id="mengeImLagerID"></td>
      					</tr>
      					<tr>
        					<td>Preis pro ME:</td>
        					<td id="preisProMengeID"></td>
      					</tr>
      					<tr>
        					<td>Menge zu verkaufen:</td>
        					<td>            
        						<div class="input-group">
            						<input class="form-control input-sm" id="zuVerkaufendeMengeID">
            						<span class="input-group-addon">ME</span>
            					</div>
            				</td>
      					</tr>
    				</tbody>
  				</table>
			</div>

			<div class="well well-sm" style="font-weight: bold;">
				<p id="erlösAusVerkaufVon">Erlös aus dem Verkauf von </p>
					<p class="erlös" id="erlösAnzeigeID"></p>
			</div>

			<div>
				<button class="btn btn-primary" id="buttonBerechnen" onclick="berechneErlös()">Erlös berechnen</button>
				<label for="buttonBerechnen" id="bemerkungBerechnen" style="color: red"></label>
			<div>

         </div>
         <div class="modal-footer">
            <p>
              <button class="btn btn-primary" data-dismiss="modal">Schließen</button>
              <button class="btn btn-danger" onclick="rohstoffeVerkaufen()" id="verkaufenButtonID">Verkaufen</button>
            </p>  
         </div>
       </div>
    </div>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>

  <script>
  	var mengeImLager = 100;
  	var preisProMenge = 3;
  	var zuVerkaufendeMenge = 0;
  	var erlös = 0;

  	window.onload = function(){
  		document.getElementById('mengeImLagerID').innerHTML = mengeImLager + " ME";
  		document.getElementById('preisProMengeID').innerHTML = preisProMenge + " GE";
  	}

  	function berechneErlös(){
  		zuVerkaufendeMenge = document.getElementById('zuVerkaufendeMengeID').value;
  		document.getElementById('erlösAusVerkaufVon').innerHTML = "Erlös aus dem Verkauf von " + zuVerkaufendeMenge + " ME:"
  		erlös = zuVerkaufendeMenge * preisProMenge;
  		document.getElementById('erlösAnzeigeID').innerHTML = erlös + " GE";
  	}

  	function rohstoffeVerkaufen(){
  		berechneErlös();
  		if (zuVerkaufendeMenge >= 0 && mengeImLager > 0) {
  			mengeImLager = mengeImLager - zuVerkaufendeMenge;

  			var progressbar = document.getElementById('progressbarHolz');

  			$(progressbar).tooltip('hide')
          		.attr('data-original-title', mengeImLager + "/100")
         		.tooltip('fixTitle')
          		.tooltip('show');

  			progressbar.style = "width: " + (mengeImLager/100)*100 + "%;";



  			document.getElementById('mengeImLagerID').innerHTML = mengeImLager + " ME";
  		} else {
  			document.getElementById('bemerkungBerechnen').innerHTML = "Bitte geben Sie eine Zahl größer oder gleich 0 ein!";
  		}
  	}

	$('#verkaufen').on('hidden.bs.modal', function (e) {
  		$(this)
    		.find("input,textarea,select")
       		.val('')
       		.end()
       	$(this)
       		.find("#erlösAusVerkaufVon")
       		.html("Erlös aus dem Verkauf von ")
       		.end()
       	$(this)
       		.find("#erlösAnzeigeID")
       		.html("")
       		.end()
	});
  </script>
    

    <script>
		$(document).ready(function(){
    	$('[data-toggle="tooltip"]').tooltip();
    	});
    </script>
  </body>
</html>